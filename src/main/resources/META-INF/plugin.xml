<idea-plugin>
    <id>com.oroplatform.idea.oroplatform</id>
    <name>OroPlatform</name>
    <vendor url="https://github.com/oroinc/oro-phpstorm-plugin">oroinc</vendor>

    <description><![CDATA[
<h1>Oro PHPStorm Plugin</h1>

Plugin for the PHPStorm that will help to increase the development speed on the projects based on the OroPlatform.
    ]]></description>

    <change-notes><![CDATA[
<h2>2024.1</h2>
<ul>
  <li>Fixed reference provider errors.</li>
  <li>Updated dependencies.</li>
</ul>
<h2>2023.2</h2>
<ul>
  <li>Updated compatibility with PHPStorm 2023.2.3</li>
</ul>
<h2>2023.1</h2>
<ul>
  <li>Updated compatibility with PHPStorm 2023.1</li>
</ul>

<h2>2022.3</h2>
<ul>
  <li>Fixed compatibility with PHPStorm 2022.3</li>
</ul>

<h2>1.0.19</h2>
<ul>
  <li>[#17] Fixed IllegalArgumentException in Twig templates used by layouts in PHPStorm 2020.3</li>
</ul>

<h2>1.0.18</h2>
<ul>
  <li>[#15] extended_entity_name and table options for datagrids provide incorrect suggestions</li>
</ul>

<h2>1.0.17</h2>
<ul>
  <li>[#14] Fixed compatibility with the upcoming PhpStorm 2020.1</li>
</ul>

<h2>1.0.16</h2>
<ul>
  <li>[#12] Fix navigation to layout updates from layout themes (twig templates)</li>
</ul>

<h2>1.0.15</h2>
<ul>
  <li>Fix possible NullPointerException in requirejs support</li>
</ul>

<h2>1.0.14</h2>
<ul>
  <li>[#13] Fix possible deadlock and crash</li>
</ul>

<h2>1.0.13</h2>
<ul>
  <li>Better autocomplete for conditions in workflows.yml</li>
  <li>Support for translations autocomplete and navigation in more places</li>
  <li>Support for imported files in datagrids.yml</li>
</ul>

<h2>1.0.12</h2>
<ul>
  <li>Better autocomplete for actions / conditions in workflows.yml</li>
  <li>Fixed navigation to actions / conditions in workflows.yml</li>
</ul>

<h2>1.0.11</h2>
<ul>
  <li>Fixed support for scopes in workflows.yml</li>
  <li>Fixed two possible NullPointerExceptions</li>
</ul>

<h2>1.0.10</h2>
<ul>
  <li>Navigation and improved support for form types, api form types, actions, conditions and mass action providers</li>
</ul>

<h2>1.0.9</h2>
<ul>
  <li>Improved autocomplete for actions.yml</li>
</ul>

<h2>1.0.8</h2>
<ul>
  <li>Fix support for form_type in api.yml</li>
  <li>Fix support for autocomplete asset filepaths (eg. in assets.yml) starting with quote char</li>
  <li>Navigation to translations sources</li>
</ul>

<h2>1.0.7</h2>
<ul>
  <li>Autocomplete for scopes in workflows.yml</li>
</ul>

<h2>1.0.6</h2>
<ul>
  <li>Improved autocomplete for layout update yml files</li>
  <li>Navigation from twig templates to layout updates</li>
</ul>

<h2>1.0.5</h2>
<ul>
  <li>Fix completion for yaml files created from scratch</li>
</ul>

<h2>1.0.4</h2>
<ul>
  <li>A lot of improvements for autocomplete in various files, especially in: workflows.yml, system_configuration.yml, api.yml, actions.yml and navigation.yml</li>
</ul>

<h2>1.0.3</h2>
<ul>
  <li>Improved autocomplete for requirejs.yml files</li>
</ul>

<h2>1.0.2</h2>
<ul>
  <li>Improved autocomplete for layout update files</li>
  <li>Fix NullPointerException for autocomplete at the end of file</li>
</ul>

<h2>1.0.1</h2>
<ul>
  <li>Improved autocomplete for entity.yml</li>
  <li>Improved autocomplete for api.yml</li>
</ul>

<h2>1.0.0</h2>
<ul>
  <li>The same as 1.0.0-beta6 - only change versioning</li>
</ul>

<h2>1.0.0-beta6</h2>
<ul>
  <li>Improve performance by reducing number of reindexing.</li>
</ul>

<h2>1.0.0-beta5</h2>
<ul>
  <li>Full support for requirejs modules</li>
</ul>

<h2>1.0.0-beta4</h2>
<ul>
  <li>update autocomplete for dashboards.yml</li>
</ul>

<h2>1.0.0-beta3</h2>
<ul>
  <li>inspection for lack of value</li>
  <li>autocomplete for "label" properties in datagrids.yml</li>
  <li>improve autocomplete for "data_type" property in api.yml</li>
</ul>

<h2>1.0.0-beta2</h2>
<ul>
  <li>inspection for duplicate properties</li>
  <li>improve "data_transformer" suggestions in api.yml</li>
</ul>

<h2>1.0.0-beta1</h2>
<ul>
  <li>improve workflows.yml support</li>
  <li>inspections for value types</li>
</ul>

<h2>1.0.0-alpha23</h2>
<ul>
  <li>Small fixes for system_configuration.yml and api.yml</li>
</ul>

<h2>1.0.0-alpha22</h2>
<ul>
  <li>Support for PhpStorm 2016.3+</li>
</ul>

<h2>1.0.0-alpha21</h2>
<ul>
  <li>Autocomplete for more layouts yaml files: <b>theme.yml</b>, <b>assets.yml</b>, <b>requirejs.yml</b>, <b>images.yml</b></li>
</ul>

<h2>1.0.0-alpha20</h2>
<ul>
  <li>Support for Oro Platform 2.+</li>
  <li>Autocomplete for layouts yaml files</li>
</ul>

<h2>1.0.0-alpha19</h2>
<ul>
  <li>Autocomplete for entity methods added dynamically during application execution</li>
</ul>

<h2>1.0.0-alpha18</h2>
<ul>
  <li>Autocomplete for the <b>search.yml</b></li>
</ul>

<h2>1.0.0-alpha17</h2>
<ul>
  <li>Autocomplete for the <b>navigation.yml</b></li>
</ul>

<h2>1.0.0-alpha16</h2>
<ul>
  <li>Autocomplete for the <b>dashboard.yml</b></li>
</ul>

<h2>1.0.0-alpha15</h2>
<ul>
  <li>Autocomplete for the <b>actions.yml</b></li>
</ul>

<h2>1.0.0-alpha14</h2>
<ul>
  <li>[#5] bug fix for reindex during php field rename refactoring</li>
  <li>Fixes for <b>api.yml</b> inspections</li>
</ul>

<h2>1.0.0-alpha13</h2>
<ul>
  <li>Autocomplete for the <b>api.yml</b></li>
</ul>

<h2>1.0.0-alpha12</h2>
<ul>
  <li>Autocomplete for the <b>system_configuration.yml</b></li>
  <li>Autocomplete for mixins in the <b>datagrid.yml</b></li>
</ul>

<h2>1.0.0-alpha11</h2>
<ul>
  <li>Improvements for the plugin enabling / disabling feature</li>
  <li>Improvements for doctrine entity references support</li>
  <li>Improvements for Oro Platform detection logic</li>
</ul>

<h2>1.0.0-alpha10</h2>
<ul>
  <li>Autocomplete for the <b>acl.yml</b></li>
  <li>Autocomplete for the <b>entity.yml</b></li>
  <li>Autocomplete for the <b>datagrid.yml</b></li>
  <li>Autocomplete for the <b>workflow.yml</b></li>
  <li>Possibility to navigate via RequireJS modules</li>
</ul>
    ]]></change-notes>

    <idea-version since-build="231.8109.175"/>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.jetbrains.php</depends>
    <depends>org.jetbrains.plugins.yaml</depends>
    <depends>JavaScript</depends>
    <depends>com.jetbrains.twig</depends>

    <extensions defaultExtensionNs="com.intellij">
        <completion.contributor language="yaml"
                                implementationClass="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.SchemaCompletion"/>
        <completion.contributor language="PHP"
                                implementationClass="com.oroplatform.idea.oroplatform.intellij.codeAssist.php.EntityExtensionCompletion"/>
        <psi.referenceContributor
                language="yaml"
                implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.ReferenceContributor"
        />
        <postStartupActivity implementation="com.oroplatform.idea.oroplatform.intellij.ProjectConfigurator" />
        <postStartupActivity implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.YamlSupport" />

        <gotoDeclarationHandler
                implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsGoToDeclarationHandler"
                order="first"
        />

        <psi.referenceContributor
                language="JavaScript"
                implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsReferenceContributor"
        />
        <!-- This extension is obsolete and breaks unit tests - blocking for now - Alek Mosingiewicz -->
        <!-- for PhpStorm < 2016.3 -->
        <!--
        <php.typeProvider3 implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.php.EntityExtensionTypeProvider"/>
        -->
        <projectConfigurable instance="com.oroplatform.idea.oroplatform.settings.OroPlatformForm"
                             id="OroPlatform.settings"
                             displayName="ORO Platform Config"
                             groupId="language" />
        <projectService serviceImplementation="com.oroplatform.idea.oroplatform.settings.OroPlatformSettings"/>
        <localInspection
                bundle="com.oroplatform.idea.oroplatform.messages.OroPlatformBundle"
                language="yaml"
                implementationClass="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.SchemaInspection"
                displayName="Oro yaml configuration files"
                enabledByDefault="true"
                level="WEAK WARNING"
                groupKey="inspection.group"
        />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.ImportFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.DatagridFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.ServicesFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.AclFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.OperationFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.RouteFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.TranslationFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.TranslationDomainFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.ServiceParametersFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.LayoutUpdateThemesFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.StandardApiFormTypeFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.BatchJobFileBasedIndex" />

        <codeInsight.lineMarkerProvider language="Twig" implementationClass="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.TwigLineMarker"/>

        <notificationGroup id="Oro Notifications"
                           displayType="BALLOON"
                           key="notifications.group"/>

        <projectService
                serviceInterface="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsInterface"
                serviceImplementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsService"
                id="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsService"
        />

    </extensions>

    <!-- This extension is obsolete and breaks unit tests - blocking for now - Alek Mosingiewicz -->
<!--    <extensions defaultExtensionNs="com.jetbrains">-->
<!--        &lt;!&ndash; for PhpStorm >= 2016.3 &ndash;&gt;-->
<!--        <php.typeProvider3 implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.php.EntityExtensionTypeProvider"/>-->
<!--    </extensions>-->

    <project-components>
        <component>
            <implementation-class>com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsComponent</implementation-class>
        </component>
    </project-components>

    <actions>
    </actions>

</idea-plugin>
