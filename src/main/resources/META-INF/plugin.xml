<idea-plugin>
    <id>com.oroplatform.idea.oroplatform</id>
    <name>OroCommerce / OroPlatform</name>
    <vendor url="https://github.com/oroinc/oro-phpstorm-plugin">oroinc</vendor>

    <description><![CDATA[
<p>Productivity tools for projects based on OroCommerce and OroPlatform.</p>

<br/>

<a href="https://github.com/oroinc/oro-phpstorm-plugin">GitHub</a> | <a href="https://github.com/oroinc/oro-phpstorm-plugin/issues">Issues</a>

<h2>Features</h2>
<h3>Autocompletion and high-level validation in:</h3>
<ul>
    <li>acls.yml</li>
    <li>actions.yml</li>
    <li>api.yml</li>
    <li>assets.yml</li>
    <li>dashboards.yml</li>
    <li>datagrids.yml</li>
    <li>entity.yml</li>
    <li>images.yml</li>
    <li>layout.yml</li>
    <li>navigation.yml</li>
    <li>search.yml</li>
    <li>system_configuration.yml</li>
    <li>theme.yml</li>
    <li>workflows.yml</li>
</ul>

<h3>JavaScript:</h3>
<ul>
    <li>Autocompletion/module name resolution for require().</li>
</ul>

<h2>OroCommerce Developer Resources</h2>
<ul>
    <li><a href="https://doc.oroinc.com/backend/">Backend Developer Documentation</a></li>
    <li><a href="https://doc.oroinc.com/frontend/">Frontend Developer Documentation</a></li>
    <li><a href="https://hive.oroinc.com/training-programs/">OroCommerce Training and Certification</a></li>
</ul>

<h2>Install</h2>
<ul>
    <li>Activate per project in "Settings -> Languages & Frameworks -> ORO Platform Config" or use autoconfiguration notification</li>
</ul>

<h2>Recommended Plugins</h2>
<ul>
    <li><a href="https://plugins.jetbrains.com/plugin/7219">Symfony Plugin</a></li>
</ul>
    ]]></description>

    <change-notes><![CDATA[
<h2>2025.2.0</h2>
<ul>
    <li>Updated compatibility with PHPStorm 2025.2</li>
</ul>
    ]]></change-notes>

    <idea-version since-build="252.23892"/>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>com.jetbrains.php</depends>
    <depends>com.jetbrains.twig</depends>
    <depends>org.jetbrains.plugins.yaml</depends>
    <depends>com.intellij.css</depends>
    <depends>JavaScript</depends>

    <extensions defaultExtensionNs="com.intellij">
        <completion.contributor language="yaml"
                                implementationClass="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.SchemaCompletion"/>
        <completion.contributor language="PHP"
                                implementationClass="com.oroplatform.idea.oroplatform.intellij.codeAssist.php.EntityExtensionCompletion"/>
        <psi.referenceContributor
                language="yaml"
                implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.ReferenceContributor"
        />
        <postStartupActivity implementation="com.oroplatform.idea.oroplatform.intellij.ProjectConfigurator" />
        <postStartupActivity implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.YamlSupport" />

        <gotoDeclarationHandler
                implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsGoToDeclarationHandler"
                order="first"
        />

        <psi.referenceContributor
                language="JavaScript"
                implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsReferenceContributor"
        />
        <!-- This extension is obsolete and breaks unit tests - blocking for now - Alek Mosingiewicz -->
        <!-- for PhpStorm < 2016.3 -->
        <!--
        <php.typeProvider3 implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.php.EntityExtensionTypeProvider"/>
        -->
        <projectConfigurable instance="com.oroplatform.idea.oroplatform.settings.OroPlatformForm"
                             id="OroPlatform.settings"
                             displayName="ORO Platform Config"
                             groupId="language" />
        <projectService serviceImplementation="com.oroplatform.idea.oroplatform.settings.OroPlatformSettings"/>
        <localInspection
                bundle="com.oroplatform.idea.oroplatform.messages.OroPlatformBundle"
                language="yaml"
                implementationClass="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.SchemaInspection"
                displayName="Oro yaml configuration files"
                enabledByDefault="true"
                level="WEAK WARNING"
                groupKey="inspection.group"
        />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.ImportFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.DatagridFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.ServicesFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.AclFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.OperationFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.RouteFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.TranslationFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.TranslationDomainFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.ServiceParametersFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.LayoutUpdateThemesFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.StandardApiFormTypeFileBasedIndex" />
        <fileBasedIndex implementation="com.oroplatform.idea.oroplatform.intellij.indexes.BatchJobFileBasedIndex" />

        <codeInsight.lineMarkerProvider language="Twig" implementationClass="com.oroplatform.idea.oroplatform.intellij.codeAssist.yml.TwigLineMarker"/>

        <notificationGroup id="Oro Notifications"
                           displayType="BALLOON"
                           key="notifications.group"/>

        <projectService
                serviceInterface="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsInterface"
                serviceImplementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsService"
                id="com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsService"
        />

    </extensions>

    <!-- This extension is obsolete and breaks unit tests - blocking for now - Alek Mosingiewicz -->
<!--    <extensions defaultExtensionNs="com.jetbrains">-->
<!--        &lt;!&ndash; for PhpStorm >= 2016.3 &ndash;&gt;-->
<!--        <php.typeProvider3 implementation="com.oroplatform.idea.oroplatform.intellij.codeAssist.php.EntityExtensionTypeProvider"/>-->
<!--    </extensions>-->

    <project-components>
        <component>
            <implementation-class>com.oroplatform.idea.oroplatform.intellij.codeAssist.javascript.RequireJsComponent</implementation-class>
        </component>
    </project-components>

    <actions>
    </actions>

</idea-plugin>
